<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏°‡∏∏‡∏ô‡πÑ‡∏û‡∏£</title>
    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <style>
        body { font-family: sans-serif; padding: 20px; background-color: #f0f4f0; }
        input { width: 100%; padding: 12px; border-radius: 8px; border: 1px solid #ccc; }
        .result-item { background: white; padding: 15px; margin-top: 5px; border-radius: 5px; cursor: pointer; }
    </style>
</head>
<body>
    <h3>üîç ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏°‡∏∏‡∏ô‡πÑ‡∏û‡∏£</h3>
    <input type="text" id="searchInput" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 2 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£...." oninput="searchData()">
    <div id="results"></div>

    <script>
        // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô LIFF
        liff.init({ liffId: "2008726880-JRgSRcyj" });

        const dataFromSheet = [
            "‡∏°‡∏∞‡∏ô‡∏≤‡∏ß", "‡∏°‡∏∞‡∏û‡∏£‡πâ‡∏≤‡∏ß", "‡∏°‡∏∞‡∏£‡∏∏‡∏°", "‡∏°‡∏∞‡∏£‡∏∞", "‡∏õ‡∏≤‡∏•‡πå‡∏°" 
            // ‡πÉ‡∏ô‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô API ‡πÉ‡∏´‡πâ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å Google Sheet ‡∏à‡∏£‡∏¥‡∏á‡πÜ ‡∏°‡∏≤‡πÉ‡∏™‡πà‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà
        ];

        function searchData() {
            const query = document.getElementById('searchInput').value;
            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = '';

            if (query.length < 1) return;

            const filtered = dataFromSheet.filter(item => item.includes(query));

            filtered.forEach(item => {
                const div = document.createElement('div');
                div.className = 'result-item';
                div.innerText = item;
                div.onclick = () => sendToLine(item);
                resultsDiv.appendChild(div);
            });
        }

        function sendToLine(name) {
            liff.sendMessages([{
                type: 'text',
                text: name // ‡∏™‡πà‡∏á‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏°‡∏∏‡∏ô‡πÑ‡∏û‡∏£‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡πÄ‡∏õ‡πá‡∏ô Keyword ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ Bot ‡πÉ‡∏ô GAS ‡∏Ñ‡πâ‡∏ô‡∏ï‡πà‡∏≠
            }]).then(() => {
                liff.closeWindow(); // ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤
            });
        }
    </script>
</body>
</html>